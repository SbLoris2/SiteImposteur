<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Imposteur + Mr White</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
        <div class="shape shape-5"></div>
    </div>

    <div class="game-container">
        <div class="game-header">
            <h1 class="game-title">üé≠ Imposteur</h1>
            <p class="game-subtitle">+ Mr White</p>
        </div>

        <!-- Phase 1: Configuration du lobby -->
        <div class="phase active" id="phase-config">
            <h2>Configuration de la partie</h2>
            
            <div class="config-group">
                <label for="playerCount">Nombre de joueurs (5-10 recommand√©)</label>
                <input type="number" id="playerCount" min="3" max="15" value="6">
            </div>

            <div class="config-group">
                <label for="imposteurCount">Nombre d'imposteurs</label>
                <select id="imposteurCount">
                    <option value="1">1 Imposteur</option>
                    <option value="2">2 Imposteurs</option>
                    <option value="3">3 Imposteurs</option>
                </select>
            </div>

            <div class="config-group">
                <label for="mrWhiteCount">Nombre de Mr White</label>
                <select id="mrWhiteCount">
                    <option value="1">1 Mr White</option>
                    <option value="2">2 Mr White</option>
                    <option value="3">3 Mr White</option>
                </select>
            </div>

            <div class="game-rules">
                <h3>üéØ Rappel des r√¥les :</h3>
                <ul>
                    <li><strong>Citoyens :</strong> Ont tous le m√™me mot, doivent d√©masquer Imposteur et Mr White</li>
                    <li><strong>Imposteur :</strong> N'a pas de mot, doit deviner le mot des citoyens</li>
                    <li><strong>Mr White :</strong> A un synonyme/mot proche, doit aussi deviner le mot des citoyens</li>
                </ul>
            </div>

            <button class="btn btn-pulse" onclick="startPlayerRegistration()">
                <span>Commencer l'inscription des joueurs</span>
                <div class="btn-sparkle"></div>
            </button>
        </div>

        <!-- Phase 2: Inscription des joueurs -->
        <div class="phase" id="phase-players">
            <h2>Inscription des joueurs</h2>
            <div class="current-player" id="currentPlayerPrompt">
                Joueur 1 : Entrez votre nom
            </div>
            
            <div class="config-group">
                <input type="text" id="playerNameInput" placeholder="Entrez votre nom..." maxlength="20">
            </div>
            
            <button class="btn btn-bounce" onclick="addPlayer()">
                <span>Ajouter ce joueur</span>
                <div class="btn-ripple"></div>
            </button>
            
            <div class="players-list" id="playersList"></div>
            
            <div id="playersStatus"></div>
            
            <button class="btn btn-glow" id="continueToRoles" onclick="assignRoles()" style="display:none;">
                <span>Continuer vers l'attribution des r√¥les</span>
                <div class="btn-shine"></div>
            </button>
        </div>

        <!-- Phase 3: Attribution des r√¥les -->
        <div class="phase" id="phase-roles">
            <h2>Attribution des r√¥les</h2>
            <div class="info-message">
                Chaque joueur va maintenant d√©couvrir son r√¥le et son mot. Passez-vous le t√©l√©phone/ordinateur tour √† tour.
            </div>
            
            <div class="current-player" id="currentRolePlayer">
                Au tour de : [Joueur]
            </div>
            
            <button class="btn btn-reveal" id="revealRoleBtn" onclick="revealRole()">
                <span>Voir mon r√¥le et mon mot</span>
                <div class="btn-magic"></div>
            </button>
            
            <div id="roleReveal" class="role-reveal-container" style="display:none;">
                <div class="role-badge" id="playerRole"></div>
                <div class="word-display" id="playerWord"></div>
                <div class="info-message" id="roleInstructions"></div>
                <button class="btn btn-next" onclick="nextPlayerRole()">
                    <span>Passer au joueur suivant</span>
                    <div class="btn-arrow"></div>
                </button>
            </div>

            <div id="allRolesRevealed" class="completion-message" style="display:none;">
                <div class="success-icon">üéâ</div>
                <div class="info-message">
                    Tous les r√¥les ont √©t√© distribu√©s ! Vous pouvez maintenant commencer la partie.
                </div>
                <button class="btn btn-start" onclick="startGame()">
                    <span>Commencer la partie</span>
                    <div class="btn-explosion"></div>
                </button>
            </div>
        </div>

        <!-- Phase 4: Premier joueur d√©sign√© -->
        <div class="phase" id="phase-first-player">
            <h2>üé≤ Tour <span id="turnNumber">1</span></h2>
            <div class="info-message">
                Le jeu a d√©sign√© al√©atoirement qui commence les descriptions.
            </div>
            
            <div class="first-player-reveal">
                <div class="first-player-icon">üëÜ</div>
                <h3><span id="selectedFirstPlayer">Joueur</span> commence !</h3>
                <p>C'est √† toi de donner la premi√®re description de ton mot.</p>
            </div>
            
            <button class="btn btn-start" onclick="startGameRound()">
                <span>Commencer le tour</span>
                <div class="btn-arrow"></div>
            </button>
        </div>

        <!-- Phase 5: Jeu en cours -->
        <div class="phase" id="phase-game">
            <h2>üéÆ Partie en cours</h2>
            <div class="info-message">
                La partie a commenc√© ! Posez le t√©l√©phone et commencez les discussions.
            </div>
            
            <div class="game-rules">
                <h3>üìã D√©roulement :</h3>
                <ul>
                    <li><strong>Tour 1 :</strong> Chaque joueur donne une description de son mot (1 phrase max)</li>
                    <li><strong>Tour 2+ :</strong> D√©bat libre entre les joueurs</li>
                    <li><strong>Vote :</strong> D√©signez qui √©liminer</li>
                </ul>
                <p><strong>üéØ Objectif :</strong> Les citoyens doivent d√©masquer l'imposteur et Mr White !</p>
            </div>
            
            <button class="btn btn-vote" onclick="startElimination()">
                <span>Proc√©der au vote d'√©limination</span>
                <div class="btn-voting"></div>
            </button>
        </div>

        <!-- Phase 6: √âlimination -->
        <div class="phase" id="phase-elimination">
            <h2>üó≥Ô∏è √âlimination</h2>
            <div class="info-message">
                Qui a √©t√© √©limin√© suite au vote des joueurs ?
            </div>
            
            <div class="voting-section">
                <h3>S√©lectionnez le joueur √©limin√© :</h3>
                <div id="eliminationPlayers" class="voting-players"></div>
            </div>
        </div>

        <!-- Phase 7: R√©sultat de l'√©limination -->
        <div class="phase" id="phase-result">
            <h2>üèÜ R√©sultat de l'√©limination</h2>
            
            <div class="eliminated-player" id="eliminatedPlayerResult"></div>
            <div class="role-reveal-section" id="roleRevealResult"></div>
            
            <button class="btn btn-continue" id="continueAfterElimination" onclick="continueGame()">
                <span>Continuer</span>
                <div class="btn-forward"></div>
            </button>
        </div>

        <!-- Phase 8: Tentative de deviner -->
        <div class="phase" id="phase-guess">
            <h2>ü§î Tentative de deviner</h2>
            <div class="info-message">
                <span id="guessingPlayer"></span> a √©t√© √©limin√© ! Il peut maintenant tenter de deviner le mot des citoyens.
            </div>
            
            <div class="current-player">
                Passez le t√©l√©phone √† <span id="guessingPlayerName"></span>
            </div>
            
            <button class="btn btn-ready" onclick="showGuessInput()">
                <span>Je suis pr√™t √† deviner</span>
                <div class="btn-thinking"></div>
            </button>
            
            <div id="guessSection" class="guess-container" style="display:none;">
                <div class="config-group">
                    <label for="guessInput">Quel est le mot des citoyens ?</label>
                    <input type="text" id="guessInput" placeholder="Entrez votre proposition..." maxlength="30">
                </div>
                <button class="btn btn-submit" onclick="submitGuess()">
                    <span>Valider ma r√©ponse</span>
                    <div class="btn-check"></div>
                </button>
            </div>
        </div>

        <!-- Phase 9: Fin de partie -->
        <div class="phase" id="phase-end">
            <h2 id="gameEndTitle">üéâ Fin de partie</h2>
            <div class="game-result" id="gameResult"></div>
            
            <div class="final-roles" id="finalRoles">
                <h3>üé≠ R√©v√©lation des r√¥les :</h3>
                <div id="allPlayersRoles"></div>
            </div>
            
            <button class="btn btn-restart" onclick="restartGame()">
                <span>Nouvelle partie</span>
                <div class="btn-refresh"></div>
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>